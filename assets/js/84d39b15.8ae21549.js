"use strict";(globalThis.webpackChunkzopp_docs=globalThis.webpackChunkzopp_docs||[]).push([[1007],{8453(e,n,s){s.d(n,{R:()=>a,x:()=>c});var r=s(6540);const i={},o=r.createContext(i);function a(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(o.Provider,{value:n},e.children)}},9473(e,n,s){s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"guides/team-collaboration","title":"Team Collaboration","description":"Invite team members, manage permissions, and share secrets securely.","source":"@site/docs/guides/team-collaboration.md","sourceDirName":"guides","slug":"/guides/team-collaboration","permalink":"/zopp/guides/team-collaboration","draft":false,"unlisted":false,"editUrl":"https://github.com/faiscadev/zopp/tree/main/docs/docs/guides/team-collaboration.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Team Collaboration","description":"Invite team members, manage permissions, and share secrets securely."},"sidebar":"docs","previous":{"title":"Core Concepts","permalink":"/zopp/guides/core-concepts"},"next":{"title":"Kubernetes Operator","permalink":"/zopp/guides/kubernetes-operator"}}');var i=s(4848),o=s(8453);const a={sidebar_position:3,title:"Team Collaboration",description:"Invite team members, manage permissions, and share secrets securely."},c="Team Collaboration",t={},p=[{value:"Inviting Team Members",id:"inviting-team-members",level:2},{value:"Server Invites (Admin Only)",id:"server-invites-admin-only",level:3},{value:"Workspace Invites",id:"workspace-invites",level:3},{value:"Managing Permissions",id:"managing-permissions",level:2},{value:"Permission Levels",id:"permission-levels",level:3},{value:"Setting Permissions",id:"setting-permissions",level:3},{value:"Viewing Permissions",id:"viewing-permissions",level:3},{value:"Removing Access",id:"removing-access",level:3},{value:"Using Groups",id:"using-groups",level:2},{value:"1. Create a group",id:"1-create-a-group",level:3},{value:"2. Add members",id:"2-add-members",level:3},{value:"3. Set group permissions",id:"3-set-group-permissions",level:3},{value:"Managing Groups",id:"managing-groups",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use the Principle of Least Privilege",id:"1-use-the-principle-of-least-privilege",level:3},{value:"2. Protect Production",id:"2-protect-production",level:3},{value:"3. Use Groups for Teams",id:"3-use-groups-for-teams",level:3},{value:"4. Audit Regularly",id:"4-audit-regularly",level:3},{value:"5. Offboard Properly",id:"5-offboard-properly",level:3},{value:"Revoking Access",id:"revoking-access",level:2},{value:"Next Steps",id:"next-steps",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"team-collaboration",children:"Team Collaboration"})}),"\n",(0,i.jsx)(n.p,{children:"zopp makes it easy to share secrets securely with your team. This guide covers inviting members, managing permissions, and organizing access with groups."}),"\n",(0,i.jsx)(n.h2,{id:"inviting-team-members",children:"Inviting Team Members"}),"\n",(0,i.jsx)(n.p,{children:"There are two types of invites in zopp:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Server invites"})," - Allow new users to register on the server"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Workspace invites"})," - Grant access to a specific workspace"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"server-invites-admin-only",children:"Server Invites (Admin Only)"}),"\n",(0,i.jsx)(n.p,{children:"Server invites are created by the server administrator and allow new users to register:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run on the server (or via kubectl exec)\nzopp-server invite create --expires-hours 48 --db /path/to/zopp.db\n"})}),"\n",(0,i.jsx)(n.p,{children:"Share this token with the new user. They use it to create their account:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"zopp join <server-token> newuser@company.com\n"})}),"\n",(0,i.jsx)(n.h3,{id:"workspace-invites",children:"Workspace Invites"}),"\n",(0,i.jsx)(n.p,{children:"Once a user is registered, workspace owners can invite them:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create a workspace invite (valid for 7 days by default)\nzopp invite create -w acme-corp --expires-hours 168\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The invite code looks like: ",(0,i.jsx)(n.code,{children:"inv_4f8a2b3c1de56f789a0b1c2d3e4f56789..."})]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"The invite code contains an encrypted copy of the workspace KEK. The server only stores a hash\u2014it never sees the decryption key."})}),"\n",(0,i.jsx)(n.p,{children:"The invitee accepts with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"zopp join <workspace-invite> newuser@company.com\n"})}),"\n",(0,i.jsx)(n.h2,{id:"managing-permissions",children:"Managing Permissions"}),"\n",(0,i.jsx)(n.p,{children:"zopp uses Role-Based Access Control (RBAC) with three roles:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Role"}),(0,i.jsx)(n.th,{children:"Capabilities"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"read"})}),(0,i.jsx)(n.td,{children:"View secrets"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"write"})}),(0,i.jsx)(n.td,{children:"View and modify secrets"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"admin"})}),(0,i.jsx)(n.td,{children:"Full control including managing permissions"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"permission-levels",children:"Permission Levels"}),"\n",(0,i.jsx)(n.p,{children:"Permissions can be set at three levels:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Workspace\n \u2514\u2500\u2500 Project\n      \u2514\u2500\u2500 Environment\n"})}),"\n",(0,i.jsx)(n.p,{children:"Higher-level permissions cascade down. A workspace admin automatically has admin access to all projects and environments."}),"\n",(0,i.jsx)(n.h3,{id:"setting-permissions",children:"Setting Permissions"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"By principal ID:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Get the principal ID\nzopp principal service-list -w acme-corp\n\n# Grant workspace-level access\nzopp permission set -w acme-corp --principal <principal-id> --role write\n\n# Grant project-level access\nzopp permission project-set -w acme-corp -p api-backend --principal <principal-id> --role read\n\n# Grant environment-level access\nzopp permission env-set -w acme-corp -p api-backend -e production --principal <principal-id> --role read\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"By email (for all user's principals):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Grant workspace access to a user\nzopp permission user-set -w acme-corp --email dev@company.com --role write\n\n# Restrict to read-only on production\nzopp permission user-env-set -w acme-corp -p api-backend -e production \\\n  --email dev@company.com --role read\n"})}),"\n",(0,i.jsx)(n.h3,{id:"viewing-permissions",children:"Viewing Permissions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List all permissions on a workspace\nzopp permission list -w acme-corp\nzopp permission user-list -w acme-corp\n\n# Check effective permissions for a principal\nzopp permission effective -w acme-corp --principal <principal-id>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"removing-access",children:"Removing Access"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Remove workspace access\nzopp permission remove -w acme-corp --principal <principal-id>\n\n# Remove a user completely\nzopp permission user-remove -w acme-corp --email former@company.com\n"})}),"\n",(0,i.jsx)(n.h2,{id:"using-groups",children:"Using Groups"}),"\n",(0,i.jsx)(n.p,{children:"Groups make it easier to manage permissions for teams:"}),"\n",(0,i.jsx)(n.h3,{id:"1-create-a-group",children:"1. Create a group"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'zopp group create -w acme-corp backend-team -d "Backend engineering team"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-add-members",children:"2. Add members"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"zopp group add-member -w acme-corp -g backend-team alice@company.com\nzopp group add-member -w acme-corp -g backend-team bob@company.com\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-set-group-permissions",children:"3. Set group permissions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Group gets write access to backend project\nzopp group set-project-permission -w acme-corp -p api-backend -g backend-team --role write\n\n# But only read access to production\nzopp group set-env-permission -w acme-corp -p api-backend -e production -g backend-team --role read\n"})}),"\n",(0,i.jsx)(n.h3,{id:"managing-groups",children:"Managing Groups"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List groups\nzopp group list -w acme-corp\n\n# List members\nzopp group list-members -w acme-corp -g backend-team\n\n# Remove a member\nzopp group remove-member -w acme-corp -g backend-team alice@company.com\n\n# Delete a group\nzopp group delete -w acme-corp backend-team\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-use-the-principle-of-least-privilege",children:"1. Use the Principle of Least Privilege"}),"\n",(0,i.jsx)(n.p,{children:"Start with minimal permissions and add more as needed:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Default: read-only to workspace\nzopp permission user-set -w acme-corp --email dev@company.com --role read\n\n# Add write to specific project\nzopp permission user-project-set -w acme-corp -p their-project \\\n  --email dev@company.com --role write\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-protect-production",children:"2. Protect Production"}),"\n",(0,i.jsx)(n.p,{children:"Restrict production access to senior team members:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Most developers can only read production\nzopp permission user-env-set -w acme-corp -p api-backend -e production \\\n  --email junior@company.com --role read\n\n# Senior devs get write access\nzopp permission user-env-set -w acme-corp -p api-backend -e production \\\n  --email senior@company.com --role write\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-use-groups-for-teams",children:"3. Use Groups for Teams"}),"\n",(0,i.jsx)(n.p,{children:"Instead of managing individual permissions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create team groups\nzopp group create -w acme-corp frontend-team\nzopp group create -w acme-corp backend-team\nzopp group create -w acme-corp devops-team\n\n# Set permissions on groups\nzopp group set-project-permission -w acme-corp -p web-frontend -g frontend-team --role write\nzopp group set-project-permission -w acme-corp -p api-backend -g backend-team --role write\nzopp group set-permission -w acme-corp -g devops-team --role admin\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-audit-regularly",children:"4. Audit Regularly"}),"\n",(0,i.jsx)(n.p,{children:"Review who has access:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# List all workspace permissions\nzopp permission user-list -w acme-corp\n\n# Check audit logs\nzopp audit list -w acme-corp --limit 100\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-offboard-properly",children:"5. Offboard Properly"}),"\n",(0,i.jsx)(n.p,{children:"When someone leaves:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Remove from all groups first\nzopp group remove-member -w acme-corp -g backend-team former@company.com\n\n# Then remove direct permissions\nzopp permission user-remove -w acme-corp --email former@company.com\n\n# Revoke any outstanding invites\nzopp invite list\nzopp invite revoke <invite-code>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"revoking-access",children:"Revoking Access"}),"\n",(0,i.jsx)(n.p,{children:"When you remove someone's access:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"They can no longer fetch new secrets"}),"\n",(0,i.jsx)(n.li,{children:"They can no longer decrypt secrets (they don't have the KEK)"}),"\n",(0,i.jsx)(n.li,{children:"Their principals are removed from the workspace"}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:"Removing access doesn't rotate keys. If you're concerned about a compromised principal, consider rotating affected secrets."})}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/guides/core-concepts",children:"Core Concepts"})," - Understand the permission hierarchy"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/guides/ci-cd",children:"CI/CD Integration"})," - Set up service principals for automation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/reference/cli",children:"CLI Reference"})," - Full command reference"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);