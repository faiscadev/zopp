"use strict";(globalThis.webpackChunkzopp_docs=globalThis.webpackChunkzopp_docs||[]).push([[7933],{8004(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>o});const d=JSON.parse('{"id":"reference/cli/diff","title":"diff","description":"Compare secrets between zopp and external systems.","source":"@site/docs/reference/cli/diff.md","sourceDirName":"reference/cli","slug":"/reference/cli/diff","permalink":"/zopp/reference/cli/diff","draft":false,"unlisted":false,"editUrl":"https://github.com/faiscadev/zopp/tree/main/docs/docs/reference/cli/diff.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"diff","description":"Compare secrets between zopp and external systems."},"sidebar":"docs","previous":{"title":"sync","permalink":"/zopp/reference/cli/sync"},"next":{"title":"audit","permalink":"/zopp/reference/cli/audit"}}');var t=s(4848),r=s(8453);const i={sidebar_position:11,title:"diff",description:"Compare secrets between zopp and external systems."},c="diff",l={},o=[{value:"Commands",id:"commands",level:2},{value:"diff k8s",id:"diff-k8s",level:2},{value:"Options",id:"options",level:3},{value:"Example Output",id:"example-output",level:3},{value:"Legend",id:"legend",level:3},{value:"Examples",id:"examples",level:3}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"diff",children:"diff"})}),"\n",(0,t.jsx)(n.p,{children:"Show differences between zopp secrets and external systems. Useful for auditing and verifying sync status."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"zopp diff <COMMAND>\n"})}),"\n",(0,t.jsx)(n.h2,{id:"commands",children:"Commands"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Command"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"k8s"})}),(0,t.jsx)(n.td,{children:"Show diff between zopp and a Kubernetes Secret"})]})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"diff-k8s",children:"diff k8s"}),"\n",(0,t.jsx)(n.p,{children:"Compare secrets in a zopp environment with a Kubernetes Secret. Shows which keys are added, removed, or changed."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"zopp diff k8s [OPTIONS] --namespace <NAMESPACE> --secret <SECRET>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"options",children:"Options"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--namespace <NAMESPACE>"})}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Kubernetes namespace"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--secret <SECRET>"})}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Kubernetes Secret name to compare"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-w, --workspace <WORKSPACE>"})}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Workspace name (defaults from zopp.toml)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-p, --project <PROJECT>"})}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Project name (defaults from zopp.toml)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-e, --environment <ENVIRONMENT>"})}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Environment name (defaults from zopp.toml)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--kubeconfig <PATH>"})}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Path to kubeconfig file (default: ~/.kube/config)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--context <CONTEXT>"})}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Kubernetes context to use"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-h, --help"})}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Print help"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"example-output",children:"Example Output"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ zopp diff k8s --namespace default --secret backend-secrets\n\nComparing zopp (mycompany/backend/development) with k8s (default/backend-secrets)\n\n+ API_KEY           (only in zopp)\n- OLD_SECRET        (only in k8s)\n~ DATABASE_URL      (values differ)\n\nSummary: 1 added, 1 removed, 1 changed\n"})}),"\n",(0,t.jsx)(n.h3,{id:"legend",children:"Legend"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Symbol"}),(0,t.jsx)(n.th,{children:"Meaning"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"+"})}),(0,t.jsx)(n.td,{children:"Key exists in zopp but not in Kubernetes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-"})}),(0,t.jsx)(n.td,{children:"Key exists in Kubernetes but not in zopp"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"~"})}),(0,t.jsx)(n.td,{children:"Key exists in both but values differ"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Basic diff\nzopp diff k8s --namespace default --secret app-secrets\n\n# Diff against production cluster\nzopp diff k8s \\\n  -e production \\\n  --namespace production \\\n  --secret api-secrets \\\n  --context prod-cluster\n\n# Use with zopp.toml defaults\nzopp diff k8s --namespace staging --secret backend-secrets\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Run ",(0,t.jsx)(n.code,{children:"zopp diff k8s"})," before ",(0,t.jsx)(n.code,{children:"zopp sync k8s"})," to preview what changes will be applied."]})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453(e,n,s){s.d(n,{R:()=>i,x:()=>c});var d=s(6540);const t={},r=d.createContext(t);function i(e){const n=d.useContext(r);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),d.createElement(r.Provider,{value:n},e.children)}}}]);