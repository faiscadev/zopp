"use strict";(globalThis.webpackChunkzopp_docs=globalThis.webpackChunkzopp_docs||[]).push([[6683],{1580(e,s,r){r.r(s),r.d(s,{assets:()=>i,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"reference/cli/secret","title":"secret","description":"Store, retrieve, and manage encrypted secrets.","source":"@site/docs/reference/cli/secret.md","sourceDirName":"reference/cli","slug":"/reference/cli/secret","permalink":"/zopp/reference/cli/secret","draft":false,"unlisted":false,"editUrl":"https://github.com/faiscadev/zopp/tree/main/docs/docs/reference/cli/secret.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"secret","description":"Store, retrieve, and manage encrypted secrets."},"sidebar":"docs","previous":{"title":"environment","permalink":"/zopp/reference/cli/environment"},"next":{"title":"principal","permalink":"/zopp/reference/cli/principal"}}');var t=r(4848),d=r(8453);const l={sidebar_position:5,title:"secret",description:"Store, retrieve, and manage encrypted secrets."},c="secret",i={},h=[{value:"Commands",id:"commands",level:2},{value:"secret set",id:"secret-set",level:2},{value:"Arguments",id:"arguments",level:3},{value:"Options",id:"options",level:3},{value:"Examples",id:"examples",level:3},{value:"secret get",id:"secret-get",level:2},{value:"Arguments",id:"arguments-1",level:3},{value:"Options",id:"options-1",level:3},{value:"Examples",id:"examples-1",level:3},{value:"secret list",id:"secret-list",level:2},{value:"Options",id:"options-2",level:3},{value:"Example",id:"example",level:3},{value:"secret delete",id:"secret-delete",level:2},{value:"Arguments",id:"arguments-2",level:3},{value:"Options",id:"options-3",level:3},{value:"Example",id:"example-1",level:3},{value:"secret export",id:"secret-export",level:2},{value:"Options",id:"options-4",level:3},{value:"Examples",id:"examples-2",level:3},{value:"secret import",id:"secret-import",level:2},{value:"Options",id:"options-5",level:3},{value:"Examples",id:"examples-3",level:3}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"secret",children:"secret"})}),"\n",(0,t.jsx)(s.p,{children:"Store, retrieve, and manage secrets. All secrets are encrypted client-side before being sent to the server."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"zopp secret <COMMAND>\n"})}),"\n",(0,t.jsx)(s.h2,{id:"commands",children:"Commands"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Command"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"set"})}),(0,t.jsx)(s.td,{children:"Set (create or update) a secret"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"get"})}),(0,t.jsx)(s.td,{children:"Retrieve and decrypt a secret"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"list"})}),(0,t.jsx)(s.td,{children:"List all secrets in an environment"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"delete"})}),(0,t.jsx)(s.td,{children:"Delete a secret"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"export"})}),(0,t.jsx)(s.td,{children:"Export secrets to a .env file"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"import"})}),(0,t.jsx)(s.td,{children:"Import secrets from a .env file"})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"secret-set",children:"secret set"}),"\n",(0,t.jsx)(s.p,{children:"Set (upsert) a secret. The value is encrypted client-side using XChaCha20-Poly1305 before being stored."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"zopp secret set [OPTIONS] <KEY> <VALUE>\n"})}),"\n",(0,t.jsx)(s.h3,{id:"arguments",children:"Arguments"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Argument"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"KEY"})}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsxs)(s.td,{children:["Secret key (e.g., ",(0,t.jsx)(s.code,{children:"DATABASE_URL"}),")"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"VALUE"})}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Secret value (plaintext - encrypted automatically)"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"options",children:"Options"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-w, --workspace <WORKSPACE>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Workspace name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p, --project <PROJECT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Project name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-e, --environment <ENVIRONMENT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Environment name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-h, --help"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Print help"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'# With explicit flags\nzopp secret set -w mycompany -p backend -e development DATABASE_URL "postgresql://localhost/mydb"\n\n# With zopp.toml defaults\nzopp secret set DATABASE_URL "postgresql://localhost/mydb"\n\n# Set multiple secrets\nzopp secret set API_KEY "sk-12345"\nzopp secret set REDIS_URL "redis://localhost:6379"\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"secret-get",children:"secret get"}),"\n",(0,t.jsx)(s.p,{children:"Retrieve and decrypt a secret."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"zopp secret get [OPTIONS] <KEY>\n"})}),"\n",(0,t.jsx)(s.h3,{id:"arguments-1",children:"Arguments"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Argument"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"KEY"})}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Secret key to retrieve"})]})})]}),"\n",(0,t.jsx)(s.h3,{id:"options-1",children:"Options"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-w, --workspace <WORKSPACE>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Workspace name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p, --project <PROJECT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Project name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-e, --environment <ENVIRONMENT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Environment name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-h, --help"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Print help"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"examples-1",children:"Examples"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"$ zopp secret get DATABASE_URL\npostgresql://localhost/mydb\n\n# Use in scripts\nexport DATABASE_URL=$(zopp secret get DATABASE_URL)\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"secret-list",children:"secret list"}),"\n",(0,t.jsx)(s.p,{children:"List all secret keys in an environment. Only keys are shown, not values."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"zopp secret list [OPTIONS]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"options-2",children:"Options"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-w, --workspace <WORKSPACE>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Workspace name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p, --project <PROJECT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Project name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-e, --environment <ENVIRONMENT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Environment name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-h, --help"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Print help"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"example",children:"Example"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"$ zopp secret list\nDATABASE_URL\nREDIS_URL\nAPI_KEY\nJWT_SECRET\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"secret-delete",children:"secret delete"}),"\n",(0,t.jsx)(s.p,{children:"Delete a secret from an environment."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"zopp secret delete [OPTIONS] <KEY>\n"})}),"\n",(0,t.jsx)(s.h3,{id:"arguments-2",children:"Arguments"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Argument"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"KEY"})}),(0,t.jsx)(s.td,{children:"Yes"}),(0,t.jsx)(s.td,{children:"Secret key to delete"})]})})]}),"\n",(0,t.jsx)(s.h3,{id:"options-3",children:"Options"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-w, --workspace <WORKSPACE>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Workspace name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p, --project <PROJECT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Project name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-e, --environment <ENVIRONMENT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Environment name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-h, --help"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Print help"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"example-1",children:"Example"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'$ zopp secret delete OLD_API_KEY\nSecret "OLD_API_KEY" deleted\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"secret-export",children:"secret export"}),"\n",(0,t.jsx)(s.p,{children:"Export all secrets from an environment to a .env file format."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"zopp secret export [OPTIONS]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"options-4",children:"Options"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-w, --workspace <WORKSPACE>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Workspace name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p, --project <PROJECT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Project name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-e, --environment <ENVIRONMENT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Environment name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-o, --output <OUTPUT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Output file path (defaults to stdout)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-h, --help"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Print help"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"examples-2",children:"Examples"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Export to file\nzopp secret export -o .env\n\n# Export to stdout\nzopp secret export\n\n# Export specific environment\nzopp secret export -e production -o .env.production\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"secret-import",children:"secret import"}),"\n",(0,t.jsx)(s.p,{children:"Import secrets from a .env file into an environment."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"zopp secret import [OPTIONS]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"options-5",children:"Options"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Required"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-w, --workspace <WORKSPACE>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Workspace name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p, --project <PROJECT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Project name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-e, --environment <ENVIRONMENT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Environment name (defaults from zopp.toml)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-i, --input <INPUT>"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Input file path (defaults to stdin)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-h, --help"})}),(0,t.jsx)(s.td,{children:"No"}),(0,t.jsx)(s.td,{children:"Print help"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"examples-3",children:"Examples"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Import from file\nzopp secret import -i .env\n\n# Import from stdin\ncat .env | zopp secret import\n\n# Import to specific environment\nzopp secret import -e staging -i .env.staging\n"})})]})}function x(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453(e,s,r){r.d(s,{R:()=>l,x:()=>c});var n=r(6540);const t={},d=n.createContext(t);function l(e){const s=n.useContext(d);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(d.Provider,{value:s},e.children)}}}]);