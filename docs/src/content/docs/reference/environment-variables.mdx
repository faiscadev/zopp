---
title: Environment Variables
description: Configure zopp using environment variables.
---

zopp can be configured using environment variables, useful for CI/CD and containerized deployments.

## CLI Environment Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `ZOPP_SERVER` | Server address | `http://127.0.0.1:50051` |
| `ZOPP_TLS_CA_CERT` | Path to CA certificate for TLS | None |

### ZOPP_SERVER

The zopp server address. Supports both HTTP and HTTPS:

```bash
# HTTP (local development)
export ZOPP_SERVER=http://127.0.0.1:50051

# HTTPS (production)
export ZOPP_SERVER=https://zopp.example.com:50051
```

### ZOPP_TLS_CA_CERT

Path to a CA certificate file for verifying the server's TLS certificate. Required when using self-signed certificates:

```bash
export ZOPP_TLS_CA_CERT=/path/to/ca.crt
zopp workspace list
```

## Server Environment Variables

These variables configure the zopp server.

| Variable | Description | Default |
|----------|-------------|---------|
| `DATABASE_URL` | Database connection string | SQLite at default path |
| `ZOPP_TLS_CERT` | Path to TLS certificate | None |
| `ZOPP_TLS_KEY` | Path to TLS private key | None |
| `ZOPP_TLS_CLIENT_CA` | Path to client CA for mTLS | None |

### DATABASE_URL

Database connection string. Supports SQLite and PostgreSQL:

```bash
# SQLite
export DATABASE_URL=sqlite:///var/lib/zopp/zopp.db

# PostgreSQL
export DATABASE_URL=postgres://user:password@host:5432/zopp
```

### ZOPP_TLS_CERT / ZOPP_TLS_KEY

Enable TLS for the server:

```bash
export ZOPP_TLS_CERT=/etc/zopp/server.crt
export ZOPP_TLS_KEY=/etc/zopp/server.key
zopp-server serve
```

### ZOPP_TLS_CLIENT_CA

Enable mutual TLS (mTLS) by requiring client certificates:

```bash
export ZOPP_TLS_CERT=/etc/zopp/server.crt
export ZOPP_TLS_KEY=/etc/zopp/server.key
export ZOPP_TLS_CLIENT_CA=/etc/zopp/client-ca.crt
zopp-server serve
```

## Precedence

Environment variables are overridden by command-line flags:

```bash
export ZOPP_SERVER=http://localhost:50051

# Uses environment variable
zopp workspace list

# Flag overrides environment variable
zopp --server https://zopp.example.com workspace list
```

## CI/CD Examples

### GitHub Actions

```yaml
env:
  ZOPP_SERVER: https://zopp.example.com:50051

steps:
  - name: Configure zopp
    run: |
      mkdir -p ~/.zopp
      echo '${{ secrets.ZOPP_CONFIG }}' > ~/.zopp/config.json

  - name: Get secrets
    run: zopp secret export -e production -o .env
```

### Docker

```bash
docker run -d \
  -e DATABASE_URL=postgres://user:pass@host/db \
  -e ZOPP_TLS_CERT=/certs/server.crt \
  -e ZOPP_TLS_KEY=/certs/server.key \
  -v /path/to/certs:/certs:ro \
  ghcr.io/faiscadev/zopp-server:latest
```

### Kubernetes

```yaml
apiVersion: v1
kind: Deployment
spec:
  template:
    spec:
      containers:
        - name: zopp-server
          env:
            - name: DATABASE_URL
              valueFrom:
                secretKeyRef:
                  name: zopp-db-credentials
                  key: DATABASE_URL
```

## See Also

- [Configuration](/zopp/reference/configuration/) - File-based configuration
- [Self-Hosting](/zopp/self-hosting/) - Server deployment guide
- [TLS Configuration](/zopp/self-hosting/tls/) - TLS setup details
