---
title: permission
description: Manage access control and RBAC.
---

The `permission` command manages role-based access control at workspace, project, and environment levels.

## Roles

| Role | Can Read | Can Write | Can Admin |
|------|----------|-----------|-----------|
| `read` | ✓ | | |
| `write` | ✓ | ✓ | |
| `admin` | ✓ | ✓ | ✓ |

Permissions cascade: workspace admin → project admin → environment admin.

## Commands by Level

### Workspace Permissions (by Principal)

| Command | Description |
|---------|-------------|
| `set` | Set workspace permission for a principal |
| `get` | Get workspace permission for a principal |
| `list` | List all workspace permissions |
| `remove` | Remove workspace permission |

### Project Permissions (by Principal)

| Command | Description |
|---------|-------------|
| `project-set` | Set project permission |
| `project-get` | Get project permission |
| `project-list` | List project permissions |
| `project-remove` | Remove project permission |

### Environment Permissions (by Principal)

| Command | Description |
|---------|-------------|
| `env-set` | Set environment permission |
| `env-get` | Get environment permission |
| `env-list` | List environment permissions |
| `env-remove` | Remove environment permission |

### User Permissions (by Email)

Affects all principals belonging to a user:

| Command | Description |
|---------|-------------|
| `user-set` | Set workspace permission for user |
| `user-get` | Get workspace permission for user |
| `user-list` | List user permissions on workspace |
| `user-remove` | Remove user permission |
| `user-project-set` | Set project permission for user |
| `user-project-get` | Get project permission for user |
| `user-project-list` | List user permissions on project |
| `user-project-remove` | Remove user project permission |
| `user-env-set` | Set environment permission for user |
| `user-env-get` | Get environment permission for user |
| `user-env-list` | List user permissions on environment |
| `user-env-remove` | Remove user environment permission |

### Other

| Command | Description |
|---------|-------------|
| `effective` | Show effective permissions for a principal |

---

## Workspace Permissions

### permission set

```bash
zopp permission set -w <WORKSPACE> --principal <ID> --role <ROLE>
```

### permission get

```bash
zopp permission get -w <WORKSPACE> --principal <ID>
```

### permission list

```bash
zopp permission list -w <WORKSPACE>

# Output:
# Workspace Permissions:
#   prn_a1b2c3... (alice-macbook)  admin
#   prn_d4e5f6... (bob-laptop)     write
```

### permission remove

```bash
zopp permission remove -w <WORKSPACE> --principal <ID>
```

---

## Project Permissions

### permission project-set

```bash
zopp permission project-set -w <WORKSPACE> -p <PROJECT> --principal <ID> --role <ROLE>
```

### permission project-get

```bash
zopp permission project-get -w <WORKSPACE> -p <PROJECT> --principal <ID>
```

### permission project-list

```bash
zopp permission project-list -w <WORKSPACE> -p <PROJECT>
```

### permission project-remove

```bash
zopp permission project-remove -w <WORKSPACE> -p <PROJECT> --principal <ID>
```

---

## Environment Permissions

### permission env-set

```bash
zopp permission env-set -w <WORKSPACE> -p <PROJECT> -e <ENVIRONMENT> --principal <ID> --role <ROLE>
```

### permission env-get

```bash
zopp permission env-get -w <WORKSPACE> -p <PROJECT> -e <ENVIRONMENT> --principal <ID>
```

### permission env-list

```bash
zopp permission env-list -w <WORKSPACE> -p <PROJECT> -e <ENVIRONMENT>
```

### permission env-remove

```bash
zopp permission env-remove -w <WORKSPACE> -p <PROJECT> -e <ENVIRONMENT> --principal <ID>
```

---

## User Permissions

User permissions apply to all principals belonging to a user (by email).

### permission user-set

```bash
zopp permission user-set -w <WORKSPACE> --email <EMAIL> --role <ROLE>
```

### permission user-get

```bash
zopp permission user-get -w <WORKSPACE> --email <EMAIL>
```

### permission user-list

```bash
zopp permission user-list -w <WORKSPACE>

# Output:
# User Permissions:
#   alice@company.com   admin
#   bob@company.com     write
```

### permission user-remove

```bash
zopp permission user-remove -w <WORKSPACE> --email <EMAIL>
```

### permission user-project-set/get/list/remove

Same pattern with `-p <PROJECT>` added:

```bash
zopp permission user-project-set -w <WORKSPACE> -p <PROJECT> --email <EMAIL> --role <ROLE>
```

### permission user-env-set/get/list/remove

Same pattern with `-p <PROJECT>` and `-e <ENVIRONMENT>` added:

```bash
zopp permission user-env-set -w <WORKSPACE> -p <PROJECT> -e <ENVIRONMENT> --email <EMAIL> --role <ROLE>
```

---

## permission effective

Show the effective (computed) permissions for a principal, considering all levels.

### Usage

```bash
zopp permission effective -w <WORKSPACE> --principal <ID>
```

### Example

```bash
zopp permission effective -w acme-corp --principal prn_12345678...

# Output:
# Effective Permissions:
# Workspace: acme-corp          write
#   Project: api-backend        write (inherited)
#     Environment: development  write (inherited)
#     Environment: staging      write (inherited)
#     Environment: production   read (explicit)
#   Project: web-frontend       write (inherited)
```

---

## Common Patterns

### Grant read-only production access

```bash
# User has write everywhere except production
zopp permission user-set -w acme-corp --email dev@company.com --role write
zopp permission user-env-set -w acme-corp -p api-backend -e production --email dev@company.com --role read
```

### Service principal with minimal access

```bash
# Create service principal
zopp principal create ci-deploy --service -w acme-corp

# Grant read-only to production
zopp permission env-set -w acme-corp -p api-backend -e production --principal <id> --role read
```

### Remove all access for a user

```bash
zopp permission user-remove -w acme-corp --email former@company.com
```

## Notes

- Permissions are additive—you can't "subtract" from inherited permissions
- To restrict at a lower level, set an explicit lower role
- Service principals have no permissions by default
- User permissions apply to all their principals
