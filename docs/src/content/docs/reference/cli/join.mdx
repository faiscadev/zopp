---
title: join
description: Register with a server or accept a workspace invite.
---

The `join` command registers you with a zopp server or accepts a workspace invite.

## Usage

```bash
zopp join <TOKEN> <EMAIL> [OPTIONS]
```

## Arguments

| Argument | Description |
|----------|-------------|
| `TOKEN` | Invite token (server invite or workspace invite) |
| `EMAIL` | Your email address |

## Options

| Option | Description |
|--------|-------------|
| `--principal <NAME>` | Principal name (defaults to hostname) |

## Token Types

### Server Invites

Server invites allow new users to register. They look like random tokens and are created by server administrators.

```bash
zopp join srv_abc123xyz789 alice@company.com
```

### Workspace Invites

Workspace invites grant access to a specific workspace. They start with `inv_` and contain an encrypted copy of the workspace key.

```bash
zopp join inv_4f8a2b3c1de56f789... alice@company.com
```

## Examples

### First-time registration

```bash
# Register with a server invite
zopp join srv_abc123xyz789 alice@company.com

# Output:
# ✓ Joined successfully!
# User ID:      usr_...
# Principal ID: prn_...
# Principal:    alice-macbook
#
# Config saved to: /Users/alice/.zopp/config.json
```

### Join with custom principal name

```bash
zopp join srv_abc123xyz789 alice@company.com --principal work-laptop
```

### Accept workspace invite

```bash
# Accept an invite from a team member
zopp join inv_4f8a2b3c... alice@company.com

# Output:
# ✓ Joined successfully!
# Workspace: acme-corp
```

## What Happens

When you join:

1. **Server invite**: Creates your user and principal, generates Ed25519 (signing) and X25519 (encryption) keypairs
2. **Workspace invite**:
   - Decrypts the workspace KEK using the invite secret
   - Re-wraps the KEK for your principal's X25519 key
   - Adds you to the workspace

Your credentials are saved to `~/.zopp/config.json`.

## Notes

- You can join multiple servers by using different `--server` addresses
- Multiple workspace invites can be accepted to join additional workspaces
- The invite token is single-use and expires after acceptance or the expiration time
