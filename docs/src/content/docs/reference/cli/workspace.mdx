---
title: workspace
description: Manage workspaces in zopp.
---

Workspaces are the top-level container in zopp, typically representing an organization or team.

## Commands

| Command | Description |
|---------|-------------|
| `list` | List accessible workspaces |
| `create` | Create a new workspace |
| `grant-principal-access` | Grant a principal access to a workspace |

---

## workspace list

List all workspaces you have access to.

### Usage

```bash
zopp workspace list
```

### Example

```bash
zopp workspace list

# Output:
# Workspaces:
#   acme-corp
#   personal
```

---

## workspace create

Create a new workspace. This generates a new Key Encryption Key (KEK) wrapped for your principal.

### Usage

```bash
zopp workspace create <NAME>
```

### Arguments

| Argument | Description |
|----------|-------------|
| `NAME` | Workspace name (alphanumeric, hyphens, underscores) |

### Example

```bash
zopp workspace create acme-corp

# Output:
# ✓ Workspace 'acme-corp' created
# ID: wks_a1b2c3d4-e5f6-7890-abcd-ef1234567890
```

### What Happens

1. Generates a random 32-byte KEK
2. Wraps the KEK with your X25519 public key using ECDH
3. Stores the wrapped KEK on the server
4. Server never sees the plaintext KEK

---

## workspace grant-principal-access

Grant an existing principal (like a service principal) access to a workspace. This unwraps your copy of the KEK and re-wraps it for the target principal.

### Usage

```bash
zopp workspace grant-principal-access -w <WORKSPACE> -p <PRINCIPAL_ID>
```

### Options

| Option | Description |
|--------|-------------|
| `-w, --workspace <NAME>` | Workspace name |
| `-p, --principal <ID>` | Principal ID (UUID) to grant access to |

### Example

```bash
# Get the principal ID first
zopp principal service-list -w acme-corp

# Grant access
zopp workspace grant-principal-access -w acme-corp -p prn_12345678-1234-1234-1234-123456789012

# Output:
# ✓ Granted access to workspace 'acme-corp'
```

### Use Case

This is typically used to grant service principals access to a workspace:

```bash
# Create a service principal
zopp principal create ci-deploy --service -w acme-corp

# The service principal already has access because --service -w was used
# But for existing principals without workspace access:
zopp workspace grant-principal-access -w acme-corp -p <principal-id>
```

## Notes

- Workspace names must be unique per server
- Creating a workspace automatically grants you admin access
- To invite users to a workspace, use [`invite create`](/zopp/reference/cli/invite/)
