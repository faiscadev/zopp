---
title: invite
description: Create and manage workspace invites.
---

The `invite` command creates and manages workspace invites that allow users to join a workspace.

## Commands

| Command | Description |
|---------|-------------|
| `create` | Create a workspace invite |
| `list` | List active invites |
| `revoke` | Revoke an invite |

---

## invite create

Create a workspace invite. The invite contains an encrypted copy of the workspace KEK.

### Usage

```bash
zopp invite create [-w <WORKSPACE>] [--expires-hours <HOURS>] [--plain]
```

### Options

| Option | Description |
|--------|-------------|
| `-w, --workspace <NAME>` | Workspace name (optional if in `zopp.toml`) |
| `--expires-hours <HOURS>` | Hours until expiration (default: 168 = 7 days) |
| `--plain` | Output only the invite code |

### Example

```bash
zopp invite create -w acme-corp --expires-hours 48

# Output:
# ✓ Workspace invite created!
#
# Invite code: inv_4f8a2b3c1de56f789a0b1c2d3e4f56789a0b1c2d3e4f56789a0b1c2d3e4f5678
# Expires:     2025-01-17 10:30:00 UTC
#
# ⚠️  Share this invite code with the invitee via secure channel
#    The server does NOT have the plaintext—it's needed to decrypt the workspace key
```

### Plain output for scripting

```bash
zopp invite create -w acme-corp --plain

# Output (just the code):
# inv_4f8a2b3c1de56f789a0b1c2d3e4f56789a0b1c2d3e4f56789a0b1c2d3e4f5678
```

### What Happens

1. Unwraps your workspace KEK
2. Generates a random 32-byte invite secret
3. Encrypts the KEK with the invite secret
4. Hashes the secret (SHA256) for server lookup
5. Stores only the hash and encrypted KEK on server
6. Returns the full invite code containing the secret

The server never sees the plaintext secret—it's embedded in the invite code.

---

## invite list

List all active workspace invites.

### Usage

```bash
zopp invite list
```

### Example

```bash
zopp invite list

# Output:
# Active Invites:
#   inv_4f8a2b3c... (acme-corp)  expires 2025-01-17 10:30:00 UTC
#   inv_d1e2f3a4... (acme-corp)  expires 2025-01-18 14:00:00 UTC
```

---

## invite revoke

Revoke an invite, preventing it from being used.

### Usage

```bash
zopp invite revoke <CODE>
```

### Arguments

| Argument | Description |
|----------|-------------|
| `CODE` | The invite code to revoke |

### Example

```bash
zopp invite revoke inv_4f8a2b3c1de56f789...

# Output:
# ✓ Invite revoked
```

---

## Accepting Invites

Invites are accepted using the `join` command:

```bash
# New user accepting invite
zopp join inv_4f8a2b3c... newuser@company.com
```

When accepting:

1. The CLI extracts the secret from the invite code
2. Hashes it to look up the invite on the server
3. Decrypts the workspace KEK using the secret
4. Re-wraps the KEK for the new user's principal
5. The user is now a member of the workspace

---

## Security Notes

- **Single-use**: Each invite can only be used once
- **Time-limited**: Invites expire after the specified duration
- **Revocable**: Invites can be revoked before use
- **Zero-knowledge**: Server only stores hash of secret, not the secret itself
- **Secure sharing**: Share invite codes via secure channels (Signal, encrypted email, etc.)

---

## Best Practices

### Short expiration for sensitive workspaces

```bash
zopp invite create -w production-secrets --expires-hours 1
```

### Audit outstanding invites

```bash
# List and revoke unused invites
zopp invite list
zopp invite revoke <old-invite>
```

### Communicate securely

Share invite codes via:
- Signal or other encrypted messaging
- In-person
- Encrypted email

Avoid:
- Unencrypted email
- Slack/Teams (unless your org trusts these)
- Posting in shared documents
